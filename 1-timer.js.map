{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst btn = document.querySelector('[data-start]'), input = document.querySelector('#datetime-picker');\nconst spans = [...document.querySelectorAll('.value')]; // Масив: [дні, години, хвилини, секунди]\nlet targetDate = null, intervalId = null;\n\nbtn.disabled = true;\n\nflatpickr(input, {\n  enableTime: true, time_24hr: true, defaultDate: new Date(), minuteIncrement: 1,\n  onClose([date]) {\n    targetDate = date;\n    const isFuture = targetDate > Date.now();\n    btn.disabled = !isFuture;\n    if (!isFuture) iziToast.error({ message: \"Please choose a date in the future\", position: \"topRight\" });\n  }\n});\n\nconst pad = v => String(v).padStart(2, \"0\");\n\nbtn.onclick = () => {\n  btn.disabled = input.disabled = true;\n  intervalId = setInterval(() => {\n    const diff = targetDate - Date.now();\n    if (diff <= 0) return clearInterval(intervalId), (input.disabled = false);\n\n    const t = convertMs(diff);\n    [t.days, t.hours, t.minutes, t.seconds].forEach((val, i) => spans[i].textContent = pad(val));\n  }, 1000);\n};\n\nfunction convertMs(ms) {\n  const s = 1000, m = s * 60, h = m * 60, d = h * 24;\n  return {\n    days: Math.floor(ms / d),\n    hours: Math.floor((ms % d) / h),\n    minutes: Math.floor(((ms % d) % h) / m),\n    seconds: Math.floor((((ms % d) % h) % m) / s)\n  };\n}"],"names":["btn","input","spans","targetDate","intervalId","flatpickr","date","isFuture","iziToast","pad","v","diff","t","convertMs","val","i","ms"],"mappings":"+IAKA,MAAMA,EAAM,SAAS,cAAc,cAAc,EAAGC,EAAQ,SAAS,cAAc,kBAAkB,EAC/FC,EAAQ,CAAC,GAAG,SAAS,iBAAiB,QAAQ,CAAC,EACrD,IAAIC,EAAa,KAAMC,EAAa,KAEpCJ,EAAI,SAAW,GAEfK,EAAUJ,EAAO,CACf,WAAY,GAAM,UAAW,GAAM,YAAa,IAAI,KAAQ,gBAAiB,EAC7E,QAAQ,CAACK,CAAI,EAAG,CACdH,EAAaG,EACb,MAAMC,EAAWJ,EAAa,KAAK,IAAG,EACtCH,EAAI,SAAW,CAACO,EACXA,GAAUC,EAAS,MAAM,CAAE,QAAS,qCAAsC,SAAU,UAAU,CAAE,CACtG,CACH,CAAC,EAED,MAAMC,EAAMC,GAAK,OAAOA,CAAC,EAAE,SAAS,EAAG,GAAG,EAE1CV,EAAI,QAAU,IAAM,CAClBA,EAAI,SAAWC,EAAM,SAAW,GAChCG,EAAa,YAAY,IAAM,CAC7B,MAAMO,EAAOR,EAAa,KAAK,IAAG,EAClC,GAAIQ,GAAQ,EAAG,OAAO,cAAcP,CAAU,EAAIH,EAAM,SAAW,GAEnE,MAAMW,EAAIC,EAAUF,CAAI,EACxB,CAACC,EAAE,KAAMA,EAAE,MAAOA,EAAE,QAASA,EAAE,OAAO,EAAE,QAAQ,CAACE,EAAKC,IAAMb,EAAMa,CAAC,EAAE,YAAcN,EAAIK,CAAG,CAAC,CAC5F,EAAE,GAAI,CACT,EAEA,SAASD,EAAUG,EAAI,CAErB,MAAO,CACL,KAAM,KAAK,MAAMA,EAAK,KAAC,EACvB,MAAO,KAAK,MAAOA,EAAK,MAAK,IAAC,EAC9B,QAAS,KAAK,MAAQA,EAAK,MAAK,KAAK,GAAC,EACtC,QAAS,KAAK,MAASA,EAAK,MAAK,KAAK,IAAK,GAAC,CAChD,CACA"}